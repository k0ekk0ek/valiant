# Example configuration file for valiant

bind_address = 127.0.0.1
port = 10025
pid_file = /home/jeroen/valiant.pid
syslog_identity = valiant
syslog_facility = mail
syslog_priority = info
max_threads = 100
min_threads = 10
block_threshold = 9.0
block_response = 521 Bad reputation
delay_threshold = 1.0
delay_response = 421 Questionable reputation, please try again later
error_response = 451 Server error, please try again later

#map trusted_senders {
#	type = bdb
#	member = sender
#	path = <path>
#}

type dnsbl {
	max_threads = 1001
}

type rhsbl {
	max_threads = 10
}

stage {
	maps = skip_helos
	default = dont

#	# map is usefull in cases where the user has a list of
#	# supicious senders that start out with a score of non
#	# zero.
#	#check dubious_senders {
#	#	type = map
#	#	maps = bogusmap
#	#	dunno = dont
#	#	negate = true
#	#	weight = 1.0
#	#}

	check helo_is_localhost {
		type = str
		member = helo_name
		pattern = localhost
		negate = false
		nocase = false
		weight = -20
		maps = trusted_senders
	}

#	check ahbl {
#		type = rhsbl
#		zone = rhsbl.ahbl.org
#		ipv4 = true
#		in 127.0.0.2/32 {
#			weight = -2
#		}
#		weight = -1.5
#	}
#
#	check spamcop {
#		type = dnsbl
#		zone = bl.spamcop.net
#		ipv4 = true
#		weight = 4.5
#	}
#
#	check spamhaus {
#		type = dnsbl
#		zone = zen.spamhaus.org
#		ipv4 = true
#		in 127.0.0.4/32 {
#			weight = 10.5
#		}
#		weight = 3.5
#	}
}
